# Snapshot Schedule

## Schema Properties

|                                           | Type                        | Description                                                                                                                                                                                                                                       | Required   |
|:------------------------------------------|:----------------------------|:--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:-----------|
| conditional_on_intent                     | string                      | Flag to enable the resource based on intent availability. eg mysql if mysql dashboard is required to be deployed. Note: Need to have the instance running beforehand to avail.                                                                    | No         |
| depends_on                                | array                       | Dependencies on other resources. e.g. application x may depend on mysql                                                                                                                                                                           | No         |
| disabled                                  | boolean                     | Flag to disable the resource                                                                                                                                                                                                                      | No         |
| flavor                                    | enum: default               |                                                                                                                                                                                                                                                   | Yes        |
| kind                                      | enum: snapshot_schedule     |                                                                                                                                                                                                                                                   | Yes        |
| lifecycle                                 | enum: ENVIRONMENT_BOOTSTRAP | This field describes the phase in which the resource has to be invoked (`ENVIRONMENT_BOOTSTRAP`)                                                                                                                                                  | No         |
| provided                                  | boolean                     | Flag to tell if the resource should not be provisioned by facets                                                                                                                                                                                  | No         |
| version                                   | enum: 0.1, latest           |                                                                                                                                                                                                                                                   | Yes        |
| metadata.name                             | string                      | Name of the resource                                                                                                                                                                                                                              | No         |
|                                           |                             |     - if not specified, fallback is the `filename`                                                                                                                                                                                                |            |
| spec                                      | object                      | Specification as per resource types schema                                                                                                                                                                                                        | Yes        |
| spec.additional_claim_selector_labels.KEY | string                      | key value pair of labels                                                                                                                                                                                                                          | No         |
| spec.resource_name                        | string                      | The name of the resource that you want to create a volume snapshot backup, if this is left blank, it will create volume backups for all resource name in the resource type                                                                        | Yes        |
| spec.resource_type                        | string                      | The name of the resource type which you need to create volume snapshot backup                                                                                                                                                                     | Yes        |
| spec.retention_policy.count               | integer                     | The maximum number of snapshots per PVC to keep                                                                                                                                                                                                   | No         |
| spec.retention_policy.expiry              | string                      | The length of time a given snapshot should be retained, specified in hours. (168h = 1 week)                                                                                                                                                       | No         |
| spec.schedule                             | string                      | The cronspec (https://en.wikipedia.org/wiki/Cron#Overview) that defines the schedule. It is interpreted with respect to the UTC timezone. The following pre-defined shortcuts are also supported: @hourly, @daily, @weekly, @monthly, and @yearly | Yes        |

## Outputs

| Type   | Description   | Required   | Referencing   |
|--------|---------------|------------|---------------|

