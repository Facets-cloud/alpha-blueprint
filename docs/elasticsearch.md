# Elasticsearch

## Schema Properties

|                            | Type                                     | Description                                                                                                                                                                    | Required   |
|:---------------------------|:-----------------------------------------|:-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:-----------|
| kind                       | enum: elasticsearch                      |                                                                                                                                                                                | Yes        |
| flavor                     | enum: k8s                                |                                                                                                                                                                                | Yes        |
| version                    | enum: 0.1, latest                        |                                                                                                                                                                                | Yes        |
| lifecycle                  | enum: ENVIRONMENT, ENVIRONMENT_BOOTSTRAP | This field describes the phase in which the resource has to be invoked (`ENVIRONMENT` or `ENVIRONMENT_BOOTSTRAP`)                                                              | No         |
| disabled                   | boolean                                  | Flag to disable the resource                                                                                                                                                   | No         |
| conditional_on_intent      | string                                   | Flag to enable the resource based on intent availability. eg mysql if mysql dashboard is required to be deployed. Note: Need to have the instance running beforehand to avail. | No         |
| provided                   | boolean                                  | Flag to tell if the resource should not be provisioned by facets                                                                                                               | No         |
| depends_on                 | array                                    | Dependencies on other resources. e.g. application x may depend on mysql                                                                                                        | No         |
| metadata.name              | string                                   | Name of the resource                                                                                                                                                           | No         |
|                            |                                          |     - if not specified, fallback is the `filename`                                                                                                                             |            |
| spec                       | object                                   | Specification as per resource types schema                                                                                                                                     | Yes        |
| advanced                   | object                                   | Advanced values to be used by different flavours of Elasticsearch                                                                                                              | No         |
| spec.elasticsearch_version | string                                   | Version of Elasticsearch e.g. 8.5.1                                                                                                                                            | No         |
| spec.size.instance_count   | integer                                  | The number of instances to create.                                                                                                                                             | No         |
| spec.size.replica_count    | integer                                  | [Deprecated] The number of instances to create.                                                                                                                                | No         |

## Outputs

|                                          | Type    | Description                                                                                                                                | Required   | Referencing                                                             |
|:-----------------------------------------|:--------|:-------------------------------------------------------------------------------------------------------------------------------------------|:-----------|:------------------------------------------------------------------------|
| out                                      | object  | Output given by the resource for others to refer.                                                                                          | No         | ${elasticsearch.RESOURCE_NAME.out}                                      |
| out.spec.elasticsearch_version           | string  | Version of Elasticsearch e.g. 8.5.1                                                                                                        | No         | ${elasticsearch.RESOURCE_NAME.out.spec.elasticsearch_version}           |
| out.spec.size.instance_count             | integer | The number of instances to create.                                                                                                         | No         | ${elasticsearch.RESOURCE_NAME.out.spec.size.instance_count}             |
| out.spec.size.replica_count              | integer | [Deprecated] The number of instances to create.                                                                                            | No         | ${elasticsearch.RESOURCE_NAME.out.spec.size.replica_count}              |
| out.interfaces.cluster.endpoint          | string  | A comma-separated string of endpoints in the format 'host1:port1,host2:port2'. The number of endpoints must be greater than or equal to 1. | No         | ${elasticsearch.RESOURCE_NAME.out.interfaces.cluster.endpoint}          |
| out.interfaces.cluster.username          | string  | The username to use for authentication when connecting to the datastore.                                                                   | No         | ${elasticsearch.RESOURCE_NAME.out.interfaces.cluster.username}          |
| out.interfaces.cluster.password          | string  | The password to use for authentication when connecting to the datastore.                                                                   | No         | ${elasticsearch.RESOURCE_NAME.out.interfaces.cluster.password}          |
| out.interfaces.cluster.connection_string | string  | The connection_string to use when connecting to the datastore.                                                                             | No         | ${elasticsearch.RESOURCE_NAME.out.interfaces.cluster.connection_string} |

