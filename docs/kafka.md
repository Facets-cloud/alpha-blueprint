# Kafka

## Schema Properties

|                                   | Type                        | Description                                                                                                                                                                    | Required   |
|:----------------------------------|:----------------------------|:-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:-----------|
| conditional_on_intent             | string                      | Flag to enable the resource based on intent availability. eg mysql if mysql dashboard is required to be deployed. Note: Need to have the instance running beforehand to avail. | No         |
| depends_on                        | array                       | Dependencies on other resources. e.g. application x may depend on mysql                                                                                                        | No         |
| disabled                          | boolean                     | Flag to disable the resource                                                                                                                                                   | No         |
| flavor                            | enum: k8s                   |                                                                                                                                                                                | Yes        |
| kind                              | enum: kafka                 |                                                                                                                                                                                | Yes        |
| lifecycle                         | enum: ENVIRONMENT_BOOTSTRAP | This field describes the phase in which the resource has to be invoked (`ENVIRONMENT_BOOTSTRAP`)                                                                               | No         |
| provided                          | boolean                     | Flag to tell if the resource should not be provisioned by facets                                                                                                               | No         |
| version                           | enum: 0.2                   |                                                                                                                                                                                | Yes        |
| metadata.name                     | string                      | Name of the resource                                                                                                                                                           | No         |
|                                   |                             |     - if not specified, fallback is the `filename`                                                                                                                             |            |
| spec                              | object                      | Specification as per resource types schema                                                                                                                                     | Yes        |
| spec.authenticated                | boolean                     | Make this kafka is Password protected                                                                                                                                          | Yes        |
| spec.kafka_version                | string                      | Version of kafka e.g. 3.2.3                                                                                                                                                    | Yes        |
| spec.persistence_enabled          | boolean                     | Enable Persistence for this redis                                                                                                                                              | Yes        |
| spec.size.kafka.cpu               | string                      | CPU request in format mentioned @ https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/#meaning-of-cpu                                                | No         |
| spec.size.kafka.memory            | string                      | Memory request in format mentioned @ https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/#meaning-of-memory                                          | No         |
| spec.size.kafka.replica_count     | integer                     | Number of kafka instances needs to be deployed                                                                                                                                 | Yes        |
| spec.size.kafka.volume            | string                      | Volume request in kubernetes persistent volumes                                                                                                                                | No         |
| spec.size.zookeeper.cpu           | string                      | CPU request in format mentioned @ https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/#meaning-of-cpu                                                | No         |
| spec.size.zookeeper.memory        | string                      | Memory request in format mentioned @ https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/#meaning-of-memory                                          | No         |
| spec.size.zookeeper.replica_count | integer                     | Number of zookeeper instances needs to be deployed                                                                                                                             | Yes        |
| spec.size.zookeeper.volume        | string                      | Volume request in kubernetes persistent volumes                                                                                                                                | No         |

## Outputs

|                                          | Type   | Description                                                                                                                                | Required   | Referencing                                                     |
|:-----------------------------------------|:-------|:-------------------------------------------------------------------------------------------------------------------------------------------|:-----------|:----------------------------------------------------------------|
| out.interfaces.cluster.endpoint          | string | A comma-separated string of endpoints in the format 'host1:port1,host2:port2'. The number of endpoints must be greater than or equal to 1. | Yes        | ${kafka.RESOURCE_NAME.out.interfaces.cluster.endpoint}          |
| out.interfaces.cluster.username          | string | The username to use for authentication when connecting to the datastore.                                                                   | No         | ${kafka.RESOURCE_NAME.out.interfaces.cluster.username}          |
| out.interfaces.cluster.password          | string | The password to use for authentication when connecting to the datastore.                                                                   | No         | ${kafka.RESOURCE_NAME.out.interfaces.cluster.password}          |
| out.interfaces.cluster.connection_string | string | The connection_string to use when connecting to the datastore.                                                                             | Yes        | ${kafka.RESOURCE_NAME.out.interfaces.cluster.connection_string} |

