# Redis

## Schema Properties

|                                                        | Type                                     | Description                                                                                                                                                                            | Required   |
|:-------------------------------------------------------|:-----------------------------------------|:---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:-----------|
| kind                                                   | enum: redis                              |                                                                                                                                                                                        | Yes        |
| flavor                                                 | enum: k8s, memorystore, elasticache      |                                                                                                                                                                                        | Yes        |
| version                                                | enum: 0.1, 0.2, latest                   |                                                                                                                                                                                        | Yes        |
| lifecycle                                              | enum: ENVIRONMENT, ENVIRONMENT_BOOTSTRAP | This field describes the phase in which the resource has to be invoked (`ENVIRONMENT` or `ENVIRONMENT_BOOTSTRAP`)                                                                      | No         |
| disabled                                               | boolean                                  | Flag to disable the resource                                                                                                                                                           | No         |
| conditional_on_intent                                  | string                                   | Flag to enable the resource based on intent availability. eg mysql if mysql dashboard is required to be deployed. Note: Need to have the instance running beforehand to avail.         | No         |
| provided                                               | boolean                                  | Flag to tell if the resource should not be provisioned by facets                                                                                                                       | No         |
| depends_on                                             | array                                    | Dependencies on other resources. e.g. application x may depend on mysql                                                                                                                | No         |
| metadata.name                                          | string                                   | Name of the resource                                                                                                                                                                   | No         |
|                                                        |                                          |     - if not specified, fallback is the `filename`                                                                                                                                     |            |
| spec                                                   | object                                   | Specification as per resource types schema                                                                                                                                             | Yes        |
| advanced                                               | object                                   | Additional fields if any for a particular implementation of a resource                                                                                                                 | No         |
| spec.authenticated                                     | boolean                                  | Make this redis Password protected                                                                                                                                                     | No         |
| spec.redis_version                                     | string                                   | Version of redis e.g. 6.3                                                                                                                                                              | No         |
| spec.persistence_enabled                               | boolean                                  | Enable Persistence for this redis                                                                                                                                                      | No         |
| spec.size.writer.volume                                | string                                   | The size of the volume. e.g '10G' or '5Gi'                                                                                                                                             | No         |
| spec.size.reader.instance_count                        | integer                                  | The number of instances to create.                                                                                                                                                     | No         |
| spec.size.reader.replica_count                         | integer                                  | [Deprecated] The number of instances to create.                                                                                                                                        | No         |
| advanced.k8s.redis.values                              | object                                   | Helm values as per the Bitnami redis chart https://github.com/bitnami/charts/tree/master/bitnami/redis                                                                                 | No         |
| advanced.elasticache.aws_elasticache_replication_group | object                                   | Resource values as per the terraform resource documentation https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/elasticache_replication_group                  | No         |
| advanced.elasticache.aws_elasticache_parameter_group   | object                                   | Resource values as per the terraform resource documentation https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/elasticache_parameter_group                    | No         |
| advanced.elasticache.aws_security_group                | object                                   | Resource values as per the terraform resource documentation https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/security_group                                 | No         |
| advanced.memorystore.google_redis_instance             | object                                   | Resource values as per the terraform resource documentation for redis instance creation  https://registry.terraform.io/providers/hashicorp/google/latest/docs/resources/redis_instance | No         |

## Outputs

|                                               | Type    | Description                                       | Required   | Referencing                                                          |
|:----------------------------------------------|:--------|:--------------------------------------------------|:-----------|:---------------------------------------------------------------------|
| out                                           | object  | Output given by the resource for others to refer. | No         | ${redis.RESOURCE_NAME.out}                                           |
| out.spec.authenticated                        | boolean | Make this redis Password protected                | No         | ${redis.RESOURCE_NAME.out.spec.authenticated}                        |
| out.spec.redis_version                        | string  | Version of redis e.g. 6.3                         | No         | ${redis.RESOURCE_NAME.out.spec.redis_version}                        |
| out.spec.persistence_enabled                  | boolean | Enable Persistence for this redis                 | No         | ${redis.RESOURCE_NAME.out.spec.persistence_enabled}                  |
| out.spec.size.writer.volume                   | string  | The size of the volume. e.g '10G' or '5Gi'        | No         | ${redis.RESOURCE_NAME.out.spec.size.writer.volume}                   |
| out.spec.size.reader.instance_count           | integer | The number of instances to create.                | No         | ${redis.RESOURCE_NAME.out.spec.size.reader.instance_count}           |
| out.spec.size.reader.replica_count            | integer | [Deprecated] The number of instances to create.   | No         | ${redis.RESOURCE_NAME.out.spec.size.reader.replica_count}            |
| out.interfaces.reader.username                | string  | Username to connect (if any)                      | No         | ${redis.RESOURCE_NAME.out.interfaces.reader.username}                |
| out.interfaces.reader.password                | string  | Password to connect (if any)                      | No         | ${redis.RESOURCE_NAME.out.interfaces.reader.password}                |
| out.interfaces.reader.host                    | string  | Host for service discovery                        | No         | ${redis.RESOURCE_NAME.out.interfaces.reader.host}                    |
| out.interfaces.reader.port                    | string  | Port for service discovery                        | No         | ${redis.RESOURCE_NAME.out.interfaces.reader.port}                    |
| out.interfaces.reader.name                    | string  | Name of interface, same as key                    | No         | ${redis.RESOURCE_NAME.out.interfaces.reader.name}                    |
| out.interfaces.reader.connection_string       | string  | Connection string to connect                      | No         | ${redis.RESOURCE_NAME.out.interfaces.reader.connection_string}       |
| out.interfaces.writer.username                | string  | Username to connect (if any)                      | No         | ${redis.RESOURCE_NAME.out.interfaces.writer.username}                |
| out.interfaces.writer.password                | string  | Password to connect (if any)                      | No         | ${redis.RESOURCE_NAME.out.interfaces.writer.password}                |
| out.interfaces.writer.host                    | string  | Host for service discovery                        | No         | ${redis.RESOURCE_NAME.out.interfaces.writer.host}                    |
| out.interfaces.writer.port                    | string  | Port for service discovery                        | No         | ${redis.RESOURCE_NAME.out.interfaces.writer.port}                    |
| out.interfaces.writer.name                    | string  | Name of interface, same as key                    | No         | ${redis.RESOURCE_NAME.out.interfaces.writer.name}                    |
| out.interfaces.writer.connection_string       | string  | Connection string to connect                      | No         | ${redis.RESOURCE_NAME.out.interfaces.writer.connection_string}       |
| out.instances.INSTANCE_NAME.username          | string  | Username to connect (if any)                      | No         | ${redis.RESOURCE_NAME.out.instances.INSTANCE_NAME.username}          |
| out.instances.INSTANCE_NAME.password          | string  | Password to connect (if any)                      | No         | ${redis.RESOURCE_NAME.out.instances.INSTANCE_NAME.password}          |
| out.instances.INSTANCE_NAME.host              | string  | Host for service discovery                        | No         | ${redis.RESOURCE_NAME.out.instances.INSTANCE_NAME.host}              |
| out.instances.INSTANCE_NAME.port              | string  | Port for service discovery                        | No         | ${redis.RESOURCE_NAME.out.instances.INSTANCE_NAME.port}              |
| out.instances.INSTANCE_NAME.name              | string  | Name of interface, same as key                    | No         | ${redis.RESOURCE_NAME.out.instances.INSTANCE_NAME.name}              |
| out.instances.INSTANCE_NAME.connection_string | string  | Connection string to connect                      | No         | ${redis.RESOURCE_NAME.out.instances.INSTANCE_NAME.connection_string} |

