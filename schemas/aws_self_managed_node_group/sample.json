{
  "$schema": "self_managed_node_group.schema.json",
  "kind": "kubernetes_node_pool",
  "flavor": "eks_self_managed",
  "version": "latest",
  "metadata": {
    "name": "test-node-group",
    "tags": {
      "Name": "test-node-group"
    },
    "annotations": {}
  },
  "spec": {
    "instance_type": "t3.medium",
    "is_public": true,
    "min_node_count": 0,
    "max_node_count": 5,
    "taints": {
      "taint3": {
        "effect": "NoSchedule",
        "key": "dedicated",
        "value": "windowsnode"
      }
    },
    "labels": {
      "service": "rendering-service"
    }
  },
  "advanced": {
    "eks": {
      "self_managed_node_group": {
        "desired_size": 1,
        "ami_id": "ami-02c870f56e3617314",
        "create_security_group": false,
        "block_device_mappings": {
          "sda1": {
            "device_name": "/dev/sda1",
            "ebs": [
              {
                "volume_size": 100,
                "delete_on_termination": "true",
                "volume_type": "gp3"
              }
            ]
          }
        },
        "ebs_optimized": true,
        "instance_initiated_shutdown_behavior": "terminate",
        "platform": "windows",
        "tags": {
          "Purpose": "test"
        }
      }
    }
  }
}
