{
  "kind": "application",
  "flavor": "default",
  "version": "latest",
  "lifecycle": "ENVIRONMENT<default specified in module, need not be overriden>",
  "disabled": false,
  "provided": true,
  "depends_on": [
    "application.app2",
    "redis.main"
  ],
  "metadata": {
    "name": "app1",
    "labels": {
      "sidecar.istio.io/inject": "true"
    },
    "annotations": {
      "traffic.sidecar.istio.io/excludeOutboundIPRanges": "*"
    }
  },
  "spec": {
    "type": "Deployment or Job or CronJob",
    "schedule": "cron ex only for CronJob",
    "release_strategy": "RollingUpdate",
    "artifact": {
      "artifactory": "default",
      "name": "alpha-stack-app1"
    },
    "autoscaling": {
      "min": 1,
      "max": 2,
      "cpu_threshold": 50,
      "memory_threshold": 40
    },
    "ports": {
      "grpc": "${template.application.out.ports.grpc}",
      "custom-metrics": 9110
    },
    "metrics": {
      "custom": {
        "port_name": "custom-metrics",
        "path": "/"
      }
    },
    "size": {
      "cpu": 4,
      "memory": 6
    },
    "env": {
      "LOG_LEVEL": "INFO",
      "NEWRELIC_KEY": "${stack.out.variables.NEW_RELIC_KEY}",
      "REGION": "${stack.out.variables.REGION}"
    }
  },
  "out": {
    "\\": "Will be generated, or can be provided",
    "interface": {
      "grpc": {
        "port": 1000,
        "host": "app1.namespace",
        "username": "user",
        "password": "password"
      },
      "custom-metrics": {
        "port": 1000,
        "host": "app1.namespace",
        "username": "user",
        "password": "password"
      }
    }
  }
}